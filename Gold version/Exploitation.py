# -*- coding: utf-8 -*-
"""
@author : Nicolas
"""
import fonctions as f
from matplotlib import pyplot as plt
import numpy as np
import constants as c

choice = str(input("Quelle comparaison voulez-vous réaliser ? \n1 : Plusieurs grains différents mais avec les mêmes propriétés fractales\n2 : Un grain fractale et un grain sphérique\n3 : Plusieurs grain ayant des proprétés fractales différentes\n4 : Plusieurs grain de tailles différentes mais de même propriétés fractale \n"))
if choice == "1":
    number_of_grain = int(input("Combien de grain voulez-vous comparer?\n"))
    sigma = float(input("Quel valeur voulez-vous donner à sigma (le paramètre de fractalité)?\n"))

    S, p = f.main_function(number_of_grain, 0, sigma, choice)

    for i in range(number_of_grain):
        results = np.loadtxt("results_Grain_N100_S{}p{}_B3p0_{}.txt".format(S, p, i))
        plt.subplot(1,number_of_grain,i+1)
        plt.hist(results, bins = 30, range = (0,13), edgecolor = "black")
        plt.xlabel("Energy (eV)")
        plt.ylabel("Number of photo_electron")
    plt.suptitle("Different grain with the same fractale parameters")
    plt.show()


elif choice == "2":
    sigma = []
    labels = []
    number_of_grain = 2
    sigma.append(float(input("Quelle valeur voulez-vous donner à sigma pour le grain sphérique ?\n")))
    sigma.append(float(input("Quelle valeur voulez-vous donner à sigma pour le grain fractale ?\n")))
    S, p = f.main_function(number_of_grain, 0, sigma, choice)

    for i in range(number_of_grain):
        labels.append("sigma = {}".format(sigma[i]))
        results = np.loadtxt("results_Grain_N100_S{}p{}_B3p0.txt".format(S[i], p[i]))
        plt.hist(results, bins = 30, range = (0,13), color = "{}".format(c.COLOR[i]), edgecolor = "black", alpha = 0.5)
        plt.xlabel("Energy (eV)")
        plt.ylabel("Number of photo_electron")
    plt.legend(labels)
    plt.show()


elif choice == "3":
    sigma = []
    number_of_grain = int(input("Combien de grain voulez-vous comparer?\n"))

    for i in range(number_of_grain):
        sigma.append(float(input("Quelle valeur voulez-vous donner pour le grain n°{}\n".format(i))))

    S, p = f.main_function(number_of_grain, 0, sigma, choice)

    for i in range(number_of_grain):
        results = np.loadtxt("results_Grain_N100_S{}p{}_B3p0.txt".format(S[i], p[i]))
        plt.subplot(1,number_of_grain,i+1)
        plt.hist(results, bins = 30, range = (0,13), edgecolor = "black")
        plt.xlabel("Energy (eV)")
        plt.ylabel("Number of photo_electron")
    plt.show()




elif choice == "4":
    GRAIN_RADIUS = []
    number_of_grain = int(input("Combien de grain voulez-vous comparer?\n"))
    sigma = float(input("Quel valeur voulez-vous donner à sigma (le paramètre de fractalité)?\n"))

    for i in range(number_of_grain):
        GRAIN_RADIUS.append(float(input("Quelle taille voulez-vous donner au rayon du grain n°{}\n".format(i))))

    S, p = f.main_function(number_of_grain, GRAIN_RADIUS, sigma, choice)

    for i in range(number_of_grain):
        results = np.loadtxt("results_Grain_N100_S{}p{}_B3p0_{}.txt".format(S, p, i))
        plt.hist(results, bins = 30, range = (0,13), edgecolor = "black")
        plt.xlabel("Energy (eV)")
        plt.ylabel("Number of photo_electron")
    plt.suptitle("Different grain size with the same fractale parameters")
    plt.show()
